<!DOCTYPE html>
<html>
<head>
  <title>Improved data management with LivingNorwayR</title>
  <meta charset="utf-8">
  <meta name="description" content="Improved data management with LivingNorwayR">
  <meta name="author" content="Matt Grainger">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
    
  <slide class="nobackground">
    <article class="flexbox vcenter">
      <span>
        <img width='300px' src="assets/img/LNWhite.png">
      </span>
    </article>
  </slide>
    <slide class="title-slide segue nobackground">
  
  <aside class="gdbar">
    <img src="assets/img/LNWhite.png">
  </aside>
  
  <hgroup class="auto-fadein">
    <h1>Improved data management with LivingNorwayR</h1>
    <h2></h2>
    <p>Matt Grainger<br/>Postdoctoral Fellow NINA</p>
  </hgroup>
  
  <article></article>  
  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  
  <article data-timings="">
    <!-- Limit image width and height -->

<style type='text/css'>
img {
    max-height: 560px;
    max-width: 964px;
}
</style>

<!-- Center image on slide -->

<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>

<script type='text/javascript'>
$(function() {
    $("p:has(img)").addClass('centered');
});
</script>

<h2>Schematic of current workflow</h2>

<p><img src="assets/img/Workflow1.png" alt=""></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Data sharing</h2>
  </hgroup>
  
  <article data-timings="">
    <p><img src="assets/img/sorry_no.png" alt=""></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Code sharing</h2>
  </hgroup>
  
  <article data-timings="">
    <p><img src="assets/img/data&amp;code.png" alt=""> </p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>We are sharing data - but not code</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Culina et al. (2020) PLoS Biol 18(7): e3000763. (n=346)</p>

<p><img src="assets/img/Culina.PNG" alt=""> </p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Although data sharing may not be complete</h2>
  </hgroup>
  
  <article data-timings="">
    <p>&quot;56% were incomplete&quot; (n= 100)</p>

<p><img src="assets/fig/unnamed-chunk-1-1.png" alt="plot of chunk unnamed-chunk-1"></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>And reuse is prevented</h2>
  </hgroup>
  
  <article data-timings="">
    <p>&quot;64% were archived in a way that prevented reuse&quot; (n= 100)</p>

<p><img src="assets/fig/unnamed-chunk-2-1.png" alt="plot of chunk unnamed-chunk-2"></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Barriers to data sharing</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Wiley survey 2014 (n=2250)</p>

<style type="text/css"> body {background:none transparent; } </style>

<iframe src="C:/Users/matthew.grainger/Documents/Projects_in_development/LNC2020_presentation/slides/assets/widgets/wiley.html" width=100% height=100% allowtransparency="true"> </iframe>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Schematic of future workflow</h2>
  </hgroup>
  
  <article data-timings="">
    <p><img src="assets/img/Workflow2.png" alt=""></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Introducing {LivingNorwayR}</h2>
  </hgroup>
  
  <article data-timings="">
    <p><a href="https://github.com/LivingNorway/LivingNorwayR">https://github.com/LivingNorway/LivingNorwayR</a></p>

<ul>
<li>An R package designed to facilitate the future workflow</li>
<li>Main features 

<ul>
<li>Import &amp; Export Darwin Core Archive</li>
<li>Mapping data (with reduced pain) to DWC terms</li>
<li>Metadata extraction/writing functions</li>
<li>Plotting functions</li>
<li>Modelling functions </li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Toolchain walkthrough</h2>
  </hgroup>
  
  <article data-timings="">
    <p>We will import this data and use it to demonstrate some of the workflow</p>

<p>Nilsen E B, Pedersen H C, Br√∏seth H, Moa P F, Vang R (2019). Rock ptarmigan (Lagopus muta) radio telemetry in Lierne, Norway. Version 1.2. Norwegian Institute for Nature Research. Occurrence dataset <a href="https://doi.org/10.15468/o4zcd3">https://doi.org/10.15468/o4zcd3</a> accessed via GBIF.org on 2020-10-10.
<a href="https://www.gbif.org/dataset/b848f1f3-3955-4725-8ad8-e711e4a9e0ac#">https://www.gbif.org/dataset/b848f1f3-3955-4725-8ad8-e711e4a9e0ac#</a></p>

<p><img src="assets/img/37755781.jpg" alt=""></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Set up the &quot;Living Norway data package&quot; structure</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">library(LivingNorwayR)
build_folder_structure(project_name = &quot;Tetraonidae_Lagopus&quot;)
map_folders(project_name = &quot;Tetraonidae_Lagopus&quot;)
#map_files(project_name = &quot;Tetraonidae_Lagopus&quot;)
</code></pre>

<iframe src="./assets/widgets/plot.html" width=100% height=100% allowtransparency="true"> </iframe>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Import the data and map to DwCObject</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">Rock&lt;-DwCOccurence$new(
  id&lt;-occurrence$id,
  ownerInstitutionCode&lt;-occurrence$ownerInstitutionCode,
  basisOfRecord&lt;-occurrence$basisOfRecord,
  dynamicProperties&lt;-occurrence$dynamicProperties,
  occurrenceID&lt;-occurrence$occurrenceID,
  sex&lt;-occurrence$sex,
  lifeStage&lt;-occurrence$lifeStage,
  organismID&lt;-occurrence$organismID,
  organismName&lt;-occurrence$organismName,
  eventDate&lt;-occurrence$eventDate,
  ...)
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Helper functions</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">DwCClassList$`dwc:Occurrence`$termInfo
</code></pre>

<p>dwc:Occurrence - Occurrence
An existence of an Organism (sensu <a href="http://rs.tdwg.org/dwc/terms/Organism">http://rs.tdwg.org/dwc/terms/Organism</a>) at a particular place at a particular time.</p>

<pre><code>Defined in: https://dwc.tdwg.org/
IRI: http://rs.tdwg.org/dwc/terms/Occurrence
Version IRI: http://rs.tdwg.org/dwc/terms/version/Occurrence-2020-08-20
Type: Class
Date modified: 2020-08-20
Executive committee decisions:
    http://rs.tdwg.org/decisions/decision-2014-10-26_15
Examples:
    A wolf pack on the shore of Kluane Lake in 1988. A virus in a plant leaf in the New York Botanical Garden at 15:29 on 2014-10-23. A fungus in Central Park in the summer of 1929.
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Make use of the data</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">df&lt;-Rock$object()
summary(df$sex)
</code></pre>

<pre><code>##   F   M 
## 180 198
</code></pre>

<pre><code class="r">summary(df$lifeStage)
</code></pre>

<pre><code>##    adult juvenile 
##      211      167
</code></pre>

<pre><code class="r">bb&lt;-Rock$get_bounding_box()
</code></pre>

<pre><code>##     minX     maxX     minY     maxY 
## 12.65946 14.65305 64.03308 64.77377
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Produce maps</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">Map&lt;-Rock$plotmap()
Map
</code></pre>

<p><img src="assets/fig/unnamed-chunk-12-1.png" alt="plot of chunk unnamed-chunk-12"></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Explore the metadata</h2>
  </hgroup>
  
  <article data-timings="">
    <p><strong>Early stage of development</strong></p>

<pre><code class="r">RockXML&lt;-(&quot;C:/Users/matthew.grainger/Documents/Projects_in_development/LNC2020_presentation/slides/Tetraonidae_Lagopus/metadata/eml.xml&quot;)

metadata&lt;-DwCMetaData$new(RockXML)
#metadata$get_eml()
metadata$get_abstract(RockXML)
</code></pre>

<pre><code>## &lt;abstract&gt;
##   &lt;para&gt;This data set is based on a small radio telemetry project on rock ptarmigan (Lagopus muta) in Lierne municipality, central Norway. In total, 85 rock ptarmigans were captured and radio-collared. After release, the birds were re-located with variable geographical precision (noted in the data). When mortality were detected, cause of death was as far as possible recorded. 
## 
## In the published data, cause of death is attributed to one of two causes (hunting OR other causes), and this information is available in the field &quot;dynamicProperties&quot; together with information about the event (capture OR radiotelemetry/recature). In some cases more detailed information about the event and state is available in the raw data.&lt;/para&gt;
## &lt;/abstract&gt;
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Do some analysis</h2>
  </hgroup>
  
  <article data-timings="">
    <p><strong>Early stage of development</strong></p>

<pre><code class="r">DwCOccurence$run_survival()
</code></pre>

<pre><code>## Call: survfit(formula = Surv(entry, exit, event) ~ 1, data = CH)
## 
##  time n.risk n.event censored survival std.err lower 95% CI upper 95% CI
##     4     81       5        1    0.938  0.0267        0.887        0.992
##     5     76       6        0    0.864  0.0381        0.793        0.942
##     6     70       6        1    0.790  0.0452        0.706        0.884
##     7     63       1        0    0.778  0.0462        0.692        0.874
##    10     57       2        9    0.750  0.0485        0.661        0.852
##    11     55       4        6    0.696  0.0521        0.601        0.806
##    15     38       2        7    0.659  0.0554        0.559        0.777
##    16     36       2        0    0.622  0.0580        0.519        0.747
##    17     34       1        0    0.604  0.0592        0.499        0.732
##    18     33       1        1    0.586  0.0601        0.479        0.716
##    19     31       1        0    0.567  0.0611        0.459        0.700
##    20     30       1        5    0.548  0.0619        0.439        0.684
##    22     24       2        0    0.502  0.0646        0.390        0.646
##    25     19       2        3    0.450  0.0678        0.335        0.604
</code></pre>

<pre><code>## Call: survfit(formula = Surv(entry, exit2, event2) ~ 1, data = CH_h)
## 
##  time n.risk n.event censored survival std.err lower 95% CI upper 95% CI
##     4     81       7       75    0.914  0.0312        0.854        0.977
</code></pre>

<pre><code>## Call: survfit(formula = Surv(entry, exit2, event2) ~ 1, data = CH_e)
## 
##  time n.risk n.event censored survival std.err lower 95% CI upper 95% CI
##     4     81       5        1    0.938  0.0267        0.887        0.992
##     5     76       6        0    0.864  0.0381        0.793        0.942
##     6     70       6        1    0.790  0.0452        0.706        0.884
##     7     63       1        0    0.778  0.0462        0.692        0.874
##    10     57       2        9    0.750  0.0485        0.661        0.852
##    11     55       4        6    0.696  0.0521        0.601        0.806
</code></pre>

<pre><code>## Call: survfit(formula = Surv(entry2, exit, event) ~ 1, data = CH_l)
## 
##  time n.risk n.event censored survival std.err lower 95% CI upper 95% CI
##    15     38       2        0    0.947  0.0362        0.879        1.000
##    16     36       2        0    0.895  0.0498        0.802        0.998
##    17     34       1        0    0.868  0.0548        0.767        0.983
##    18     33       1        1    0.842  0.0592        0.734        0.966
##    19     31       1        0    0.815  0.0632        0.700        0.949
##    20     30       1        5    0.788  0.0667        0.667        0.930
##    22     24       2        0    0.722  0.0756        0.588        0.886
##    25     19       2        3    0.646  0.0846        0.500        0.835
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h3>Then add a plot</h3>
  </hgroup>
  
  <article data-timings="">
    <p><img src="assets/img/ggsurv.png" alt=""></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Write it up</h2>
  </hgroup>
  
  <article data-timings="">
    <h3>Results</h3>

<p>Out of 84 radio marked rock ptarmigans, 33 were shot by hunters in the study area, and 9 were recorded as dead due to other causes (mostly predation). </p>

<h3>Results (under the covers)</h3>

<p>Out of <code>r length(unique(d$organismName))</code> radio marked rock ptarmigans, <code>r  Deaths[1,2]</code> were shot by hunters in the study area, and <code>r Deaths[2,2]</code> were recorded as dead due to other causes (mostly predation). </p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>{LivingNorwayR}</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li>{LivingNorwayR} is still in development

<ul>
<li>Please let us know what functionality you need</li>
<li>Github issues: <a href="https://github.com/LivingNorway/LivingNorwayR/issues">https://github.com/LivingNorway/LivingNorwayR/issues</a></li>
<li>Slack: Joseph Chipperfield, Matt Grainger, Erlend Nilsen</li>
<li>Email: <a href="mailto:matthew.grainger@nina.no">matthew.grainger@nina.no</a></li>
</ul></li>
</ul>

<p><img src="https://media.giphy.com/media/vJTzaVE5YZf4k/giphy.gif" alt=""></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="slide-21" style="background:;">
  
  <article data-timings="">
    <p><img src="assets/img/LNWhite.png" alt=""></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Data sharing'>
         2
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Code sharing'>
         3
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='We are sharing data - but not code'>
         4
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Although data sharing may not be complete'>
         5
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='And reuse is prevented'>
         6
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Barriers to data sharing'>
         7
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Schematic of future workflow'>
         8
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Introducing {LivingNorwayR}'>
         9
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Toolchain walkthrough'>
         10
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Set up the &quot;Living Norway data package&quot; structure'>
         11
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Import the data and map to DwCObject'>
         12
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Helper functions'>
         13
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Make use of the data'>
         14
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Produce maps'>
         15
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Explore the metadata'>
         16
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Do some analysis'>
         17
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Then add a plot'>
         18
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Write it up'>
         19
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='{LivingNorwayR}'>
         20
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='NA'>
         21
      </a>
    </li>
    
    </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>